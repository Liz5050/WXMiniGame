{"version":3,"sources":["file:///G:/Work/cocoscreator/svn/MiniGame/assets/script/manager/SoundManager.ts"],"names":["SoundManager","director","utils","AudioPlayer","constructor","_ap","_isInit","init","soundEntity","find","addPersistRootNode","getComponent","console","log","isInit","setMute","isMute","play","audioName","stopLast"],"mappings":";;;6GAGqBA,Y;;;;;;;;;;;;;;;AAHZC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;;AACVC,MAAAA,W,iBAAAA,W;;;;;;;;;yBAEYH,Y,GAAN,MAAMA,YAAN,CAAmB;AAGvBI,QAAAA,WAAW,GAAG;AAAA,eAFbC,GAEa;AAAA,eADbC,OACa;AACpB;;AAEMC,QAAAA,IAAI,GAAE;AACT,cAAIC,WAAW,GAAGN,KAAK,CAACO,IAAN,CAAW,0BAAX,CAAlB;AACAR,UAAAA,QAAQ,CAACS,kBAAT,CAA4BF,WAA5B;;AACA,cAAGA,WAAH,EAAe;AACX,iBAAKH,GAAL,GAAWG,WAAW,CAACG,YAAZ;AAAA;AAAA,2CAAX;AACH,WAFD,MAGI;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH;;AACD,eAAKP,OAAL,GAAe,IAAf;AACH;;AAEgB,YAANQ,MAAM,GAAU;AACvB,iBAAO,KAAKR,OAAZ;AACH;;AAEMS,QAAAA,OAAO,CAACC,MAAD,EAAgB;AAC1B,eAAKX,GAAL,CAASU,OAAT,CAAiBC,MAAjB;AACH;;AAEMC,QAAAA,IAAI,CAACC,SAAD,EAAkBC,QAAlB,EAA2C;AAAA,cAAzBA,QAAyB;AAAzBA,YAAAA,QAAyB,GAAN,IAAM;AAAA;;AAClD,eAAKd,GAAL,CAASY,IAAT,CAAcC,SAAd,EAAwBC,QAAxB;AACH;;AA5B6B,O","sourcesContent":["import { director, utils } from \"cc\";\r\nimport { AudioPlayer } from \"../common/AudioPlayer\";\r\n\r\nexport default class SoundManager {\r\n    private _ap:AudioPlayer;\r\n    private _isInit:boolean;\r\n    public constructor() {\r\n    }\r\n\r\n    public init(){\r\n        let soundEntity = utils.find(\"Canvas/Main/SoundManager\");\r\n        director.addPersistRootNode(soundEntity);\r\n        if(soundEntity){\r\n            this._ap = soundEntity.getComponent(AudioPlayer);\r\n        }\r\n        else{\r\n            console.log(\"sound不存在\");\r\n        }\r\n        this._isInit = true;\r\n    }\r\n\r\n    public get isInit():boolean{\r\n        return this._isInit;\r\n    }\r\n\r\n    public setMute(isMute:boolean){\r\n        this._ap.setMute(isMute);\r\n    }\r\n\r\n    public play(audioName:string,stopLast:boolean = true) {\r\n        this._ap.play(audioName,stopLast);\r\n    }\r\n}\r\n"]}