{"version":3,"sources":["file:///G:/Work/cocoscreator/svn/MiniGame/assets/script/manager/SoundManager.ts"],"names":["SoundManager","director","utils","AudioPlayer","constructor","_ap","init","soundEntity","find","addPersistRootNode","getComponent","console","log","setMute","isMute","play","audioName","stopLast","playBGM","pause","onPause","resume","onResume"],"mappings":";;;6GAGqBA,Y;;;;;;;;;;;;;;;AAHZC,MAAAA,Q,OAAAA,Q;AAAUC,MAAAA,K,OAAAA,K;;AACVC,MAAAA,W,iBAAAA,W;;;;;;;;;yBAEYH,Y,GAAN,MAAMA,YAAN,CAAmB;AAEvBI,QAAAA,WAAW,GAAG;AAAA,eADbC,GACa;AACjB,eAAKC,IAAL;AACH;;AAEMA,QAAAA,IAAI,GAAE;AACT,cAAIC,WAAW,GAAGL,KAAK,CAACM,IAAN,CAAW,cAAX,CAAlB;AACAP,UAAAA,QAAQ,CAACQ,kBAAT,CAA4BF,WAA5B;;AACA,cAAGA,WAAH,EAAe;AACX,iBAAKF,GAAL,GAAWE,WAAW,CAACG,YAAZ;AAAA;AAAA,2CAAX;AACH,WAFD,MAGI;AACAC,YAAAA,OAAO,CAACC,GAAR,CAAY,UAAZ;AACH;AACJ;;AACMC,QAAAA,OAAO,CAACC,MAAD,EAAgB;AAC1B,eAAKT,GAAL,CAASQ,OAAT,CAAiBC,MAAjB;AACH;;AAEMC,QAAAA,IAAI,CAACC,SAAD,EAAkBC,QAAgB,GAAG,IAArC,EAA2C;AAClD,eAAKZ,GAAL,CAASU,IAAT,CAAcC,SAAd,EAAwBC,QAAxB;AACH;;AAEMC,QAAAA,OAAO,CAACF,SAAD,EAAkB;AAC5B,eAAKX,GAAL,CAASa,OAAT,CAAiBF,SAAjB;AACH;;AAEMG,QAAAA,KAAK,GAAE;AACV,eAAKd,GAAL,CAASe,OAAT;AACH;;AAEMC,QAAAA,MAAM,GAAE;AACX,eAAKhB,GAAL,CAASiB,QAAT;AACH;;AAlC6B,O","sourcesContent":["import { director, utils } from \"cc\";\r\nimport { AudioPlayer } from \"../common/AudioPlayer\";\r\n\r\nexport default class SoundManager {\r\n    private _ap:AudioPlayer;\r\n    public constructor() {\r\n        this.init();\r\n    }\r\n\r\n    public init(){\r\n        let soundEntity = utils.find(\"SoundManager\");\r\n        director.addPersistRootNode(soundEntity);\r\n        if(soundEntity){\r\n            this._ap = soundEntity.getComponent(AudioPlayer);\r\n        }\r\n        else{\r\n            console.log(\"sound不存在\");\r\n        }\r\n    }\r\n    public setMute(isMute:boolean){\r\n        this._ap.setMute(isMute);\r\n    }\r\n\r\n    public play(audioName:string,stopLast:boolean = true) {\r\n        this._ap.play(audioName,stopLast);\r\n    }\r\n\r\n    public playBGM(audioName:string){\r\n        this._ap.playBGM(audioName);\r\n    }\r\n\r\n    public pause(){\r\n        this._ap.onPause();\r\n    }\r\n\r\n    public resume(){\r\n        this._ap.onResume();\r\n    }\r\n}\r\n"]}