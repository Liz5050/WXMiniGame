{"version":3,"sources":["file:///G:/Work/cocoscreator/svn/MiniGame/assets/script/manager/SceneManager.ts"],"names":["SceneManager","_decorator","director","utils","ccclass","property","constructor","_mainSceneNode","find","addPersistRootNode","getScene","getParent","LoadScene","sceneName","self","loadScene","error","scene","parent","active"],"mappings":";;;+FAGaA,Y;;;;;;;;;AAHJC,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,Q,OAAAA,Q;AAAuBC,MAAAA,K,OAAAA,K;;;;;;;;;OACjD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;8BAEjBD,Y,GAAN,MAAMA,YAAN,CAAmB;AAEfM,QAAAA,WAAW,GAAG;AAAA,eADbC,cACa;AACjB,eAAKA,cAAL,GAAsBJ,KAAK,CAACK,IAAN,CAAW,QAAX,CAAtB;AACAN,UAAAA,QAAQ,CAACO,kBAAT,CAA4B,KAAKF,cAAjC;AAEAL,UAAAA,QAAQ,CAACQ,QAAT,GAAoBC,SAApB;AACH;;AAEMC,QAAAA,SAAS,CAACC,SAAD,EAAkB;AAC9B,cAAIC,IAAI,GAAG,IAAX;AACAZ,UAAAA,QAAQ,CAACa,SAAT,CAAmBF,SAAnB,EAA6B,UAASG,KAAT,EAAqBC,KAArB,EAAiC;AAC1D,gBAAGH,IAAI,CAACP,cAAL,CAAoBW,MAApB,IAA8BD,KAAjC,EAAuC;AACnCH,cAAAA,IAAI,CAACP,cAAL,CAAoBY,MAApB,GAA6B,KAA7B;AACH,aAFD,MAGK;AACDL,cAAAA,IAAI,CAACP,cAAL,CAAoBY,MAApB,GAA6B,IAA7B;AACH;AACJ,WAPD;AAQH;;AAnBqB,O","sourcesContent":["import { _decorator, Component, director, Node, Scene, utils } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport class SceneManager {\r\n    private _mainSceneNode:Node;\r\n    public constructor() {\r\n        this._mainSceneNode = utils.find(\"Canvas\");\r\n        director.addPersistRootNode(this._mainSceneNode);\r\n        \r\n        director.getScene().getParent()\r\n    }    \r\n\r\n    public LoadScene(sceneName:string){\r\n        let self = this;\r\n        director.loadScene(sceneName,function(error:Error,scene:Scene){\r\n            if(self._mainSceneNode.parent != scene){\r\n                self._mainSceneNode.active = false;\r\n            }\r\n            else {\r\n                self._mainSceneNode.active = true;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n\r\n"]}