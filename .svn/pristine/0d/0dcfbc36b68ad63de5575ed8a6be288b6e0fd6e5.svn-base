{"version":3,"sources":["file:///G:/Work/cocoscreator/svn/MiniGame/assets/script/manager/SceneManager.ts"],"names":["SceneManager","_decorator","director","utils","ccclass","property","constructor","_mainSceneNode","find","addPersistRootNode","getScene","getParent","LoadScene","sceneName","loadScene","OnSceneLaunched","error","scene","parent","active"],"mappings":";;;+FAGaA,Y;;;;;;;;;AAHJC,MAAAA,U,OAAAA,U;AAAuBC,MAAAA,Q,OAAAA,Q;AAAuBC,MAAAA,K,OAAAA,K;;;;;;;;;OACjD;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBJ,U;;8BAEjBD,Y,GAAN,MAAMA,YAAN,CAAmB;AAEfM,QAAAA,WAAW,GAAG;AAAA,eADbC,cACa;AACjB,eAAKA,cAAL,GAAsBJ,KAAK,CAACK,IAAN,CAAW,QAAX,CAAtB;AACAN,UAAAA,QAAQ,CAACO,kBAAT,CAA4B,KAAKF,cAAjC;AAEAL,UAAAA,QAAQ,CAACQ,QAAT,GAAoBC,SAApB;AACH;;AAEMC,QAAAA,SAAS,CAACC,SAAD,EAAkB;AAC9BX,UAAAA,QAAQ,CAACY,SAAT,CAAmBD,SAAnB,EAA6B,KAAKE,eAAlC;AACH;;AAEOA,QAAAA,eAAe,CAACC,KAAD,EAAaC,KAAb,EAAyB;AAC5C,cAAG,KAAKV,cAAL,CAAoBW,MAApB,IAA8BD,KAAjC,EAAuC;AACnC,iBAAKV,cAAL,CAAoBY,MAApB,GAA6B,KAA7B;AACH,WAFD,MAGK;AACD,iBAAKZ,cAAL,CAAoBY,MAApB,GAA6B,IAA7B;AACH;AACJ;;AApBqB,O","sourcesContent":["import { _decorator, Component, director, Node, Scene, utils } from 'cc';\r\nconst { ccclass, property } = _decorator;\r\n\r\nexport class SceneManager {\r\n    private _mainSceneNode:Node;\r\n    public constructor() {\r\n        this._mainSceneNode = utils.find(\"Canvas\");\r\n        director.addPersistRootNode(this._mainSceneNode);\r\n        \r\n        director.getScene().getParent()\r\n    }    \r\n\r\n    public LoadScene(sceneName:string){\r\n        director.loadScene(sceneName,this.OnSceneLaunched);\r\n    }\r\n\r\n    private OnSceneLaunched(error:Error,scene:Scene){\r\n        if(this._mainSceneNode.parent != scene){\r\n            this._mainSceneNode.active = false;\r\n        }\r\n        else {\r\n            this._mainSceneNode.active = true;\r\n        }\r\n    }\r\n}\r\n\r\n\r\n"]}